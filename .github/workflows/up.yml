---
name: up
on:
  push:
    branches:
      - master
    tags:
      - '*'
concurrency:
  group: up-${{ github.ref }}
  cancel-in-progress: true
jobs:
  up:
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@44c2b7a8a4ea60a981eaca3cf939b5f4305c123b # v4
      - run: sudo apt-get -y install jq
      - run: curl https://api.github.com/repos/objectionary/eo/releases/latest --silent | jq -r .tag_name > eo-version.txt
      - uses: peter-evans/create-pull-request@v6
        with:
          branch: version-up
          commit-message: 'new version of eo maven plugin'
          delete-branch: true
          title: 'New version of EO Maven Plugin'
          assignees: yegor256
          base: master